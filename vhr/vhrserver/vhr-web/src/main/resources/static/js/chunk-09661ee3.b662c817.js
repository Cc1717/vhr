(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09661ee3"],{1937:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 工资表查询 ")])},n=[],i={name:"SalSearch"},s=i,r=a("2877"),o=Object(r["a"])(s,l,n,!1,null,"564a95f9",null);t["default"]=o.exports},"21c7":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 工资表管理 ")])},n=[],i={name:"SalTable"},s=i,r=a("2877"),o=Object(r["a"])(s,l,n,!1,null,"bca3269e",null);t["default"]=o.exports},"2bc5":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.openAddDialog}},[e._v("添加工资账套")]),a("el-button",{attrs:{icon:"el-icon-refresh",type:"success"},on:{click:e.refresh}})],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.salaries,border:"",stripe:"","header-cell-style":{"text-align":"center"},"cell-style":{"text-align":"center"}}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"账套名称",width:"140",fixed:""}}),a("el-table-column",{attrs:{prop:"basicSalary",label:"基本工资",width:"90"}}),a("el-table-column",{attrs:{prop:"bonus",label:"奖金",width:"70"}}),a("el-table-column",{attrs:{prop:"lunchSalary",label:"午餐补助",width:"90"}}),a("el-table-column",{attrs:{prop:"trafficSalary",label:"交通补助",width:"90"}}),a("el-table-column",{attrs:{label:"养老金"}},[a("el-table-column",{attrs:{prop:"pensionBase",label:"基数",width:"70"}}),a("el-table-column",{attrs:{prop:"pensionPer",label:"比率",width:"70"}})],1),a("el-table-column",{attrs:{label:"医疗保险"}},[a("el-table-column",{attrs:{prop:"medicalBase",label:"基数",width:"70"}}),a("el-table-column",{attrs:{prop:"medicalPer",label:"比率",width:"70"}})],1),a("el-table-column",{attrs:{label:"公积金"}},[a("el-table-column",{attrs:{prop:"accumulationFundBase",label:"基数",width:"70"}}),a("el-table-column",{attrs:{prop:"accumulationFundPer",label:"比率",width:"70"}})],1),a("el-table-column",{attrs:{prop:"createDate",label:"启用时间",width:"120"}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.openEditDialog(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.deleteSalary(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticStyle:{display:"flex","justify-content":"space-around","align-items":"center"}},[a("el-steps",{attrs:{direction:"vertical",active:e.itemIndex}},e._l(e.salaryItems,(function(e,t){return a("el-step",{key:t,attrs:{title:e}})})),1),e._l(e.salary,(function(t,l,n){return a("el-input",{directives:[{name:"show",rawName:"v-show",value:n==e.itemIndex,expression:"index==itemIndex"}],key:n,staticStyle:{width:"200px"},attrs:{placeholder:"请输入"+e.salaryItems[n]+"..."},model:{value:e.salary[l],callback:function(t){e.$set(e.salary,l,t)},expression:"salary[propertyN]"}})}))],2),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0!=e.itemIndex,expression:"itemIndex!=0"}],attrs:{type:"primary"},on:{click:e.preStep}},[e._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:e.nextStep}},[e._v(e._s(10==e.itemIndex?"完成":"下一步"))]),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)])],1)},n=[],i=(a("b0c0"),{name:"SalSob",data:function(){return{dialogTitle:"",salaries:[],salary:{basicSalary:null,lunchSalary:null,trafficSalary:null,bonus:null,pensionPer:null,pensionBase:null,medicalPer:null,medicalBase:null,accumulationFundPer:null,accumulationFundBase:null,name:null},salaryItems:["基本工资","午餐补助","交通补助","奖金","养老金比率","养老金基数","医疗保险比率","医疗保险基数","公积金比率","公积金基数","账套名称"],itemIndex:0,dialogVisible:!1}},mounted:function(){this.initSalaries()},methods:{initSalaries:function(){var e=this;this.getRequest("/salary/sob/").then((function(t){t&&(e.salaries=t)}))},preStep:function(){this.itemIndex--},nextStep:function(){var e=this;10==this.itemIndex?this.salary.id?this.putRequest("/salary/sob/",this.salary).then((function(t){t&&(e.dialogVisible=!1,e.initSalaries())})):this.postRequest("/salary/sob/",this.salary).then((function(t){t&&(e.dialogVisible=!1,e.initSalaries())})):this.itemIndex++},deleteSalary:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.name+"】账套信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/salary/sob/"+e.id).then((function(e){e&&t.initSalaries()}))})).catch((function(){t.$message({type:"info",message:"已取消操作"})}))},openAddDialog:function(){this.dialogVisible=!0,this.dialogTitle="添加工资账套",this.salary={basicSalary:null,lunchSalary:null,trafficSalary:null,bonus:null,pensionPer:null,pensionBase:null,medicalPer:null,medicalBase:null,accumulationFundPer:null,accumulationFundBase:null,name:null},this.itemIndex=0},openEditDialog:function(e){this.dialogVisible=!0,this.dialogTitle="修改工资账套",this.salary.basicSalary=e.basicSalary,this.salary.lunchSalary=e.lunchSalary,this.salary.trafficSalary=e.trafficSalary,this.salary.bonus=e.bonus,this.salary.pensionPer=e.pensionPer,this.salary.pensionBase=e.pensionBase,this.salary.medicalPer=e.medicalPer,this.salary.medicalBase=e.medicalBase,this.salary.accumulationFundPer=e.accumulationFundPer,this.salary.accumulationFundBase=e.accumulationFundBase,this.salary.name=e.name,this.salary.id=e.id,this.itemIndex=0},refresh:function(){this.$message.success("已刷新"),this.initSalaries()}}}),s=i,r=a("2877"),o=Object(r["a"])(s,l,n,!1,null,"0c464a7a",null);t["default"]=o.exports},"6ac98":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-input",{staticStyle:{width:"250px","margin-right":"10px"},attrs:{placeholder:"通过员工名称进行搜索...","prefix-icon":"el-icon-search",clearable:""},on:{clear:e.search},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.empName,callback:function(t){e.empName=t},expression:"empName"}}),a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.search}},[e._v("搜索")])],1),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"正在获取数据...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",data:e.emps,border:"",stripe:"","header-cell-style":{"text-align":"center"},"cell-style":{"text-align":"center"}}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"140",fixed:""}}),a("el-table-column",{attrs:{prop:"workID",label:"工号",width:"140"}}),a("el-table-column",{attrs:{prop:"email",label:"电子邮件",width:"200"}}),a("el-table-column",{attrs:{prop:"phone",label:"电话号码",width:"140"}}),a("el-table-column",{attrs:{prop:"department.name",label:"所属部门",width:"140"}}),a("el-table-column",{attrs:{label:"工资账套",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.salary?a("el-tooltip",{attrs:{placement:"right"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("table",[a("tr",[a("td",[e._v("基本工资")]),a("td",[e._v(e._s(t.row.salary.basicSalary))])]),a("tr",[a("td",[e._v("午餐补助")]),a("td",[e._v(e._s(t.row.salary.lunchSalary))])]),a("tr",[a("td",[e._v("交通补助")]),a("td",[e._v(e._s(t.row.salary.trafficSalary))])]),a("tr",[a("td",[e._v("奖金")]),a("td",[e._v(e._s(t.row.salary.bonus))])]),a("tr",[a("td",[e._v("养老金比率")]),a("td",[e._v(e._s(t.row.salary.pensionPer))])]),a("tr",[a("td",[e._v("养老金基数")]),a("td",[e._v(e._s(t.row.salary.pensionBase))])]),a("tr",[a("td",[e._v("医疗保险比率")]),a("td",[e._v(e._s(t.row.salary.medicalPer))])]),a("tr",[a("td",[e._v("医疗保险基数")]),a("td",[e._v(e._s(t.row.salary.medicalBase))])]),a("tr",[a("td",[e._v("公积金比率")]),a("td",[e._v(e._s(t.row.salary.accumulationFundPer))])]),a("tr",[a("td",[e._v("公积金基数")]),a("td",[e._v(e._s(t.row.salary.accumulationFundBase))])]),a("tr",[a("td",[e._v("启用时间")]),a("td",[e._v(e._s(t.row.salary.createDate))])])])]),a("el-tag",[e._v(e._s(t.row.salary.name))])],1):a("el-tag",[e._v("暂未设置")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"left",title:"修改员工账套",width:"200",trigger:"click"},on:{show:function(a){return e.showPop(t.row.salary)},hide:function(a){return e.hidePop(t.row)}}},[a("div",[a("el-select",{attrs:{placeholder:"请选择账套"},model:{value:e.salaryId,callback:function(t){e.salaryId=t},expression:"salaryId"}},e._l(e.salaries,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v(" 修改员工账套 ")])],1)]}}])})],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"10px"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total,"current-page":e.page,"page-size":e.size},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"update:pageSize":function(t){e.size=t},"update:page-size":function(t){e.size=t},"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1)])},n=[],i={name:"SalSobCfg",data:function(){return{emps:[],page:1,size:10,total:0,loading:!1,empName:"",salaries:[],salaryId:null}},mounted:function(){this.initEmps(),this.initSalaries()},methods:{showPop:function(e){this.salaryId=e?e.id:null},hidePop:function(e){var t=this;if(this.salaryId){if(e.salary&&e.salary.id==this.salaryId)return void this.$message.info("账套未修改");this.putRequest("/salary/sobcfg/?eid="+e.id+"&sid="+this.salaryId).then((function(e){e&&t.initEmps()}))}},search:function(){this.page=1,this.size=10,this.initEmps()},initEmps:function(){var e=this;this.loading=!0,this.getRequest("/salary/sobcfg/?page="+this.page+"&size="+this.size+"&empName="+this.empName).then((function(t){e.loading=!1,t&&(e.emps=t.data,e.total=t.total)}))},initSalaries:function(){var e=this;this.getRequest("/salary/sobcfg/salary").then((function(t){t&&(e.salaries=t)}))},currentChange:function(){this.initEmps()},sizeChange:function(){this.initEmps()}}},s=i,r=a("2877"),o=Object(r["a"])(s,l,n,!1,null,"11b8f6f2",null);t["default"]=o.exports},d7e6:function(e,t,a){var l={"./SalMonth.vue":"fbac","./SalSearch.vue":"1937","./SalSob.vue":"2bc5","./SalSobCfg.vue":"6ac98","./SalTable.vue":"21c7"};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=i,e.exports=n,n.id="d7e6"},fbac:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 月末处理 ")])},n=[],i={name:"SalMonth"},s=i,r=a("2877"),o=Object(r["a"])(s,l,n,!1,null,"51ab19b2",null);t["default"]=o.exports}}]);
//# sourceMappingURL=chunk-09661ee3.b662c817.js.map